#!/usr/bin/python

###Yeudiel Hernandez
###PBSI - 11G
###Escaner de Puertos


import sys
from socket import *

ip = sys.argv[1]
max = int(sys.argv[2])

try:
	if len(sys.argv) < 3:
		print "Por favor indica la ip y el puerto limite"
	elif len(sys.argv)==3:

		print "Realizando escaneo a: ", ip," del puerto 1 al ", max
		for port in range(0,max):
			sock = socket(AF_INET,SOCK_STREAM)
			respuesta = sock.connect_ex((ip,port))
			if(respuesta==0):
				#sock.send('Scheisse\r\n')
				print "Puerto %d: ABIERTO " %(port,) #,str(sock.recv(30)),'\r'
			sock.close()

except Exception as e:
	print e
	print "Ocurrio un error\n"

