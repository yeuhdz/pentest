#!/usr/bin/python

import re, sys
from subprocess import PIPE, Popen

host = sys.argv[1]
output,error = Popen(("ping -c 1 %s" % sys.argv[1]),stdout=PIPE, stderr=PIPE,shell=True).communicate()
ttl = re.search(r"ttl=([0-9]{2,3}) ",output)

try:
	if int(ttl.group(1)) == 128:
	        print "Es un Win2"
	elif int(ttl.group(1)) == 64:
	        print "Es un Unix/Linux"
	elif int(ttl.group(1)) == 254:
	        print "Es un Solaris"
	elif int(ttl.group(1)) == 255:
	        print "Es un OSx/iOS"
	else:
	        print "No se puede definir"
except:
	print "No pude determinar el SO"


