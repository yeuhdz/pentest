#!/usr/bin/python

import dns.resolver, dns.query, dns.zone, sys

dominio = sys.argv[1]
print dominio

soa_answer = dns.resolver.query(dominio, 'SOA')
#print soa_answer
master_answer = dns.resolver.query(soa_answer[0].mname, 'A')
#print master_answer

z = dns.zone.from_xfr(dns.query.xfr(master_answer[0].address, dominio))
names = z.nodes.keys()
names.sort()

for n in names:
	try:
		print z[n].to_text(n)
	except:
		print "No se puede realizar la transeferencia de zona en %s" % name

